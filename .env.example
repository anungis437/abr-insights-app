##############################################
# ABR Insights - Environment Configuration
# Copy to .env.local and fill in your values
##############################################

# Application
NODE_ENV=development
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_APP_NAME="ABR Insights"
NEXT_PUBLIC_APP_VERSION=2.0.0

# Supabase
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key
DATABASE_URL=postgresql://postgres:password@db.your-project.supabase.co:5432/postgres

# Azure OpenAI
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com
AZURE_OPENAI_API_KEY=your-api-key
AZURE_OPENAI_DEPLOYMENT_NAME=gpt-4o
AZURE_OPENAI_API_VERSION=2024-02-15-preview
AZURE_OPENAI_EMBEDDINGS_DEPLOYMENT=text-embedding-ada-002

# Stripe
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...
STRIPE_PRICE_ID_FREE=price_...
STRIPE_PRICE_ID_PROFESSIONAL=price_...

# CanLII REST API (Official tribunal case database)
# Request API key at: https://www.canlii.org/en/feedback/feedback.html
# Subject: "API Key Request for ABR Insights - Educational Research"
# Note: Leave empty to use web scraping fallback
CANLII_API_KEY=your-api-key-here
CANLII_API_ENABLED=false
STRIPE_PRICE_ID_ENTERPRISE=price_...

# Email Service (Resend)
RESEND_API_KEY=re_xxxxxxxxxxxx
RESEND_FROM_EMAIL=noreply@abrinsights.ca
CONTACT_EMAIL=support@abrinsights.ca

# SendGrid (Legacy - migrating to Resend)
# SENDGRID_API_KEY=SG.xxxxxxxxxxxx
# SENDGRID_FROM_EMAIL=noreply@abrinsights.ca
# SENDGRID_FROM_NAME="ABR Insights"
# SENDGRID_TEMPLATE_WELCOME=d-xxxxx
# SENDGRID_TEMPLATE_PASSWORD_RESET=d-xxxxx
# SENDGRID_TEMPLATE_COURSE_COMPLETION=d-xxxxx

# Azure Storage
AZURE_STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=https;AccountName=...
AZURE_STORAGE_ACCOUNT_NAME=abrstorage
AZURE_STORAGE_CONTAINER_UPLOADS=user-uploads
AZURE_STORAGE_CONTAINER_CERTIFICATES=certificates

# Azure Functions
AZURE_FUNCTIONS_URL=https://abr-functions.azurewebsites.net
AZURE_FUNCTIONS_KEY=your-function-key

# Application Insights
APPLICATIONINSIGHTS_CONNECTION_STRING=InstrumentationKey=...
NEXT_PUBLIC_APPINSIGHTS_INSTRUMENTATION_KEY=your-key

# Security
JWT_SECRET=your-jwt-secret-minimum-32-characters
ENCRYPTION_KEY=your-encryption-key-32-chars
CORS_ORIGIN=http://localhost:3000

# Feature Flags
NEXT_PUBLIC_ENABLE_AI_FEATURES=true
NEXT_PUBLIC_ENABLE_GAMIFICATION=true
NEXT_PUBLIC_ENABLE_ANALYTICS=true

# Rate Limiting (Production-Ready Redis)
# Option 1: Upstash Redis (Recommended for serverless/Azure SWA)
UPSTASH_REDIS_REST_URL=https://your-db.upstash.io
UPSTASH_REDIS_REST_TOKEN=your-token-here

# Option 2: Azure Cache for Redis (Standard deployments)
# REDIS_URL=redis://your-cache.redis.cache.windows.net:6380
# REDIS_PASSWORD=your-primary-key

# Legacy in-memory rate limiting (development only)
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_MS=60000

# Codespring API
CODESPRING_API_KEY=api_your-key-here
